<!-- build time:Wed Dec 25 2019 18:31:11 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html lang="zh-CN"><head><link rel="manifest" href="/manifest.json"><script src="/js/sadness.js"></script><script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 3.9.0"><link rel="stylesheet" href="/css/mytheme.css"><link rel="stylesheet" href="/font/ROYIANS.css"><link rel="stylesheet" href="/font/LDL/LDL.css"><link rel="icon" id="headicon" type="image/png" sizes="32x32" href="/images/logo.png"><link rel="manifest" href="/manifest.json"><link rel="alternate" href="/atom.xml" title="小梦岛 - ROYIANS个人博客" type="application/atom+xml"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Fira Code:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="/lib/pace/pace-theme-flash.min.css"><script src="/lib/pace/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"7.4.2",exturl:!1,sidebar:{position:"right",display:"hide",offset:12,onmobile:!0},copycode:{enable:!0,show_result:!0,style:"flat"},back2top:{enable:!0,sidebar:!1,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"manual"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!1,algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!1,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"",motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},translation:{copy_button:"复制",copy_success:"复制成功",copy_failure:"复制失败"},sidebarPadding:40}</script><meta name="description" content="JVM虚拟机并不是只支持Java语言的，你可以选择多种多样JVM编程语言去实现你的项目。这些语言最终都会被编译为字节码存储到JVM能够执行的字节码文件中去。最终，这些编程语言都会在现成的JVM上得到有效的优化。"><meta name="keywords" content="Java"><meta property="og:type" content="article"><meta property="og:title" content="JVM还支持哪些语言"><meta property="og:url" content="https://www.royians.cn/2019/11.18.9867c63d/index.html"><meta property="og:site_name" content="小梦岛 - ROYIANS个人博客"><meta property="og:description" content="JVM虚拟机并不是只支持Java语言的，你可以选择多种多样JVM编程语言去实现你的项目。这些语言最终都会被编译为字节码存储到JVM能够执行的字节码文件中去。最终，这些编程语言都会在现成的JVM上得到有效的优化。"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2019-11-27T07:03:15.325Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="JVM还支持哪些语言"><meta name="twitter:description" content="JVM虚拟机并不是只支持Java语言的，你可以选择多种多样JVM编程语言去实现你的项目。这些语言最终都会被编译为字节码存储到JVM能够执行的字节码文件中去。最终，这些编程语言都会在现成的JVM上得到有效的优化。"><link rel="canonical" href="https://www.royians.cn/2019/11.18.9867c63d/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,isPage:!1,isArchive:!1}</script><title>JVM还支持哪些语言 | 小梦岛 - ROYIANS个人博客</title><script>function sendPageView(){var e=window.location.hostname;if("localhost"!=e){var a=localStorage.getItem("uid")||Math.random()+"."+Math.random();localStorage.setItem("uid",a),navigator.sendBeacon("https://www.google-analytics.com/collect",new URLSearchParams({v:1,tid:"UA-112028390-1",cid:a,t:"pageview",dp:encodeURIComponent(location.pathname)}))}}document.addEventListener("pjax:complete",sendPageView),sendPageView()</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f519f7f19502f59a9d622978cb3f5959";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container"><div class="headband"></div><link href="/lib/Qplayer/style.css" rel="stylesheet"><script src="https://cdn.bootcss.com/jQuery.Marquee/1.5.0/jquery.marquee.min.js"></script><script src="/lib/Qplayer/script.js"></script><script>!function(i){i.type="list",i.id=501873788,i.isAuto=!1,i.isRandom=!0,i.isRotate=!0}(QPlayer)</script><div id="QPlayer"><div class="body" hidden><div class="player"><span class="cover"><img src="https://p4.music.126.net/7VJn16zrictuj5kdfW1qHA==/3264450024433083.jpg?param=106x106"></span><div class="ctrl"><div class="title"><strong>name</strong><span> - </span><span class="artist">artist</span></div><div class="progress"><div class="already" style="width:0%"><div class="Qbtn"></div></div></div><div class="contr"><div class="timer left">00:00</div><div class="center"><div class="last icon"></div><div class="play icon"></div><div class="next icon"></div></div><div class="right"><div class="list-btn icon"></div><div class="lyric-btn icon"></div></div></div></div></div><div class="pop-btn"><div class="icon"></div></div></div><div class="more"><ol class="list"></ol></div><audio id="QQaudio"></audio></div><div id="Qlyric" style="visibility:hidden"><ol></ol></div><div id="QQmodel" class="QQmodel" style="visibility:hidden"><h1>歌曲列表<span id="QQclose"><a rel="关闭"> X</a></span></h1><div id="QQlist"></div></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title glitch is-glitching" data-text="小梦岛">小梦岛</span> <span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">For my vidorra</h1></div><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">19</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">10</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">52</span></a></li><li class="menu-item menu-item-comment"><a href="/comment/" rel="section"><i class="fa fa-fw fa-comment"></i>留言版</a></li><li class="menu-item menu-item-visitor"><a href="/visitor/" rel="section"><i class="fa fa-fw fa-globe"></i>访客</a></li><li class="menu-item menu-item-books"><a href="/books/" rel="section"><i class="fa fa-fw fa-book"></i>书单</a></li></ul></nav></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><script>document.getElementById("headicon").href="https://avatars.dicebear.com/v2/identicon/9867c63d.svg"</script><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.royians.cn/2019/11.18.9867c63d/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Morty.ROY"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="小梦岛 - ROYIANS个人博客"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">JVM还支持哪些语言</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Java之路/" itemprop="url" rel="index"><span itemprop="name">Java之路</span> </a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><p>JVM虚拟机并不是只支持Java语言的，你可以选择多种多样JVM编程语言去实现你的项目。这些语言最终都会被编译为字节码存储到JVM能够执行的字节码文件中去。最终，这些编程语言都会在现成的JVM上得到有效的优化。</p><a id="more"></a><p>这些JVM编程语言被分为三类：那些拥有Java不曾拥有的特性的语言；那些从现有语言移植到JVM的语言，那些research languages。</p><h2 id="第一个分类"><a href="#第一个分类" class="headerlink" title="第一个分类"></a>第一个分类</h2><p>第一个分类描述的是一些包含了比Java语言更多特性的语言，能够让程序员用更简洁的代码来编写程序。Java SE8 引入了lambda表达式、Stream API和默认方法（default methods，暂译）来解决代码简洁的问题。然而，开发者还喜欢很多其他的特性，比如字符集合（collections literals）、字符匹配（pattern matching）和更复杂的类型推断（more sophisticated type inference），这些特性在Java中还没有。</p><p>而属于第一类语言的就有 Scala, Groovy, Xtend, Ceylon, Kotlin, 和 Fantom几种。</p><h2 id="第二个分类"><a href="#第二个分类" class="headerlink" title="第二个分类"></a>第二个分类</h2><p>第二个分类中的语言是移植到JVM的已知语言，比如Python和Ruby，他们都可以和Java API进行交互，并且在脚本编写和快速原型设计方面很受欢迎。</p><p>Python（CPython）和Ruby（Ruby MRI）的标准实现均具有全局解释器锁，这会阻止它们充分利用多核系统。然而Jython和JRuby（Python和Ruby在JVM上的实现），通过使用Java的线程来摆脱了这种限制。</p><p>另一个广受欢迎的移植到JVM上的语言是Clojure（一种Lisp的衍生语言（a dialect of Lisp，暂译）），我们将在本文中介绍。另外，Oracle最近发布了Nashorn，该项目使您可以在JVM上运行JavaScript。</p><h2 id="第三个分类"><a href="#第三个分类" class="headerlink" title="第三个分类"></a>第三个分类</h2><p>第三类是实现新研究思想，仅适用于特定领域或只是实验性的语言。我们将在本文中介绍的语言X10是为实现高性能并行计算的高效编程而设计的。此类别中的另一种语言是Oracle Labs的Fortress，现已停产。</p><p>对于上文提到的每种语言，下面都会提供一个简单概览，以使您了解该语言支持什么以及如何使用它。</p><h2 id="语言概览"><a href="#语言概览" class="headerlink" title="语言概览"></a>语言概览</h2><h3 id="1-Scala"><a href="#1-Scala" class="headerlink" title="1 | Scala"></a>1 | Scala</h3><p><a href="//www.scala-lang.org/">Scala</a> is a statically typed programming language that fuses the object-oriented model and functional programming ideas. That means, in practice, that you can declare classes, create objects, and call methods just like you would typically do in Java. However, Scala also brings popular features from functional programming languages such as pattern matching on data structures, local type inference, persistent collections, and tuple literals.</p><p>The fusion of object-oriented and functional features lets you use the best tools from both worlds to solve a particular problem. As a result, Scala often lets programmers express algorithms more concisely than in Java.</p><p><strong>Feature focus: pattern matching.</strong> To illustrate, take a tree structure that you would like to traverse. <strong>Listing 1</strong> shows a simple expression language consisting of numbers and binary operations.</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">Java</span>]</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Expr</span> </span>&#123; ... &#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Number</span> <span class="keyword">extends</span> <span class="title">Expr</span> </span>&#123; int <span class="keyword">val</span>; ... &#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinOp</span> <span class="keyword">extends</span> <span class="title">Expr</span> </span>&#123; <span class="type">String</span> opname; <span class="type">Expr</span> left, right; ... &#125;</span><br></pre></td></tr></table></figure><p><strong>Listing 1</strong></p><p>Say you’re asked to write a method to simplify some expressions. For example “5 / 1” can be simplified to “5.” The tree for this expression is illustrated in <strong>Figure 1</strong>.</p><p><img alt="Architect-languages-f1" data-src="//www.oracle.com/ocom/groups/public/@otn/documents/digitalasset/2267342.jpg"></p><p><strong>Figure 1</strong></p><p>In Java, you could deconstruct this tree representation by using <code>instanceof</code>, as shown in <strong>Listing 2</strong>. Alternatively, a common design pattern for separating an algorithm from its domain is the visitor design pattern, which can alleviate some of the verbosity. See <strong>Listing 3</strong>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[Java]</span><br><span class="line"></span><br><span class="line"><span class="function">Expr <span class="title">simplifyExpression</span><span class="params">(Expr expr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (expr <span class="keyword">instanceof</span> BinOp</span><br><span class="line">          &amp;&amp; <span class="string">"/"</span>.equals(((BinOp)expr).opname)</span><br><span class="line">          &amp;&amp; ((BinOp)expr).right <span class="keyword">instanceof</span> Number</span><br><span class="line">          &amp;&amp; ... <span class="comment">// it’s all getting very clumsy</span></span><br><span class="line">          &amp;&amp; ... ) &#123;</span><br><span class="line">        <span class="keyword">return</span> (Binop)expr.left;</span><br><span class="line">     &#125;</span><br><span class="line">     ... <span class="comment">// other simplifications</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Listing 2</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[Java]</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimplifyExprVisitor</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Expr <span class="title">visit</span><span class="params">(BinOp e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">"/"</span>.equals(e.opname) &amp;&amp; </span><br><span class="line">e.right <span class="keyword">instanceof</span> Number &amp;&amp; ...)&#123;</span><br><span class="line">            <span class="keyword">return</span> e.left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> e;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Listing 3</strong></p><p>However, this pattern introduces a lot of boilerplate. First, domain classes need to provide an <code>accept</code> method to use a visitor. You then need to implement the “visit” logic.</p><p>In Scala, the same problem can be tackled using pattern matching. See <strong>Listing 4</strong>.</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">Scala</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">simplifyExpression</span></span>(expr: <span class="type">Expr</span>): <span class="type">Expr</span> = expr <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">BinOp</span>(<span class="string">"+"</span>, e, <span class="type">Number</span>(<span class="number">0</span>)) =&gt; e   <span class="comment">// Adding zero</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">BinOp</span>(<span class="string">"*"</span>, e, <span class="type">Number</span>(<span class="number">1</span>)) =&gt; e   <span class="comment">// Multiplying by one</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">BinOp</span>(<span class="string">"/"</span>, e, <span class="type">Number</span>(<span class="number">1</span>)) =&gt; e   <span class="comment">// Dividing by one</span></span><br><span class="line">    <span class="keyword">case</span> _ =&gt; expr                       <span class="comment">// Can’t simplify expr</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Listing 4</strong></p><h3 id="2-Groovy"><a href="#2-Groovy" class="headerlink" title="2 | Groovy"></a>2 | Groovy</h3><p>Groovy is a dynamically typed object-oriented language. Groovy’s dynamic nature lets you manipulate your code in powerful ways. For example, you can expand objects at runtime (for example, by adding fields or methods).</p><p>However, Groovy also provides optional static checking, which means that you can catch errors at compile time (for example, calling an undefined method will be reported as an error before the program runs, just as in Java). As a result, programmers who feel that they are more productive without types getting in their way can embrace Groovy’s dynamic nature. Nonetheless, they can also opt to gradually use static checking later if they wish. In addition, Groovy is friendly to Java programmers because almost all Java code is also valid Groovy code, so the learning curve is small.</p><p><strong>Feature focus: safe navigation.</strong> Groovy has many features that let you write more-concise code compared to Java. One of them is the <em>safe navigation operator</em>, which prevents a <code>NullPointerException</code>. In Java, dealing with null can be cumbersome. For example, the following code might result in a <code>NullPointerException</code> if either <code>person</code> is null or <code>getCar()</code> returns null:</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Insurance carInsurance = </span><br><span class="line">person.getCar().getInsurance();</span><br></pre></td></tr></table></figure><p>To prevent an unintended <code>NullPointerException</code>, you can be defensive and add checks to prevent null dereferences, as shown in <strong>Listing 5</strong>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Java]</span><br><span class="line"></span><br><span class="line">Insurance carInsurance = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">if</span>(person != <span class="keyword">null</span>)&#123;</span><br><span class="line">    Car car = person.getCar();</span><br><span class="line">    <span class="keyword">if</span>(car != <span class="keyword">null</span>)&#123;</span><br><span class="line">        carInsurance = </span><br><span class="line">            car.getInsurance();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Listing 5</strong></p><p>However, the code quickly becomes ugly because of the nested checks, which also decrease the code’s readability. The safe navigation operator, which is represented by <code>?.</code>, can help you navigate safely through potential null references:</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> carInsurance = </span><br><span class="line">person?.getCar()?.getInsurance()</span><br></pre></td></tr></table></figure><p>In this case, the variable <code>carInsurance</code> will be null if <code>person</code> is null, <code>getCar()</code> returns null, or <code>getInsurance()</code> returns null. However, no <code>NullPointerException</code> is thrown along the way.</p><h3 id="3-Clojure"><a href="#3-Clojure" class="headerlink" title="3 | Clojure"></a>3 | Clojure</h3><p><a href="//www.clojure.org/">Clojure</a> is a dynamically typed programming language that can be seen as a modern take on Lisp. It is radically different from what object-oriented programmers might be used to. In fact, Clojure is a fully functional programming language, and as a result, it is centered on immutable data structures, recursion, and functions.</p><p><strong>Feature focus: homoiconicity.</strong> What differentiates Clojure from most languages is that it’s a <em>homoiconic</em> language. That is, Clojure code is represented using the language’s fundamental datatypes—for example, lists, symbols, and literals—and you can manipulate the fundamental datatypes using built-in constructs. As a consequence, Clojure code can be elegantly manipulated and transformed by reusing the built-in constructs.</p><p>Clojure has a built-in <code>if</code> construct. It works like this. Let’s say you want to extend the language with a new construct called <code>unless</code> that should work like an inverted <code>if</code>. In other words, if the condition that is passed as an argument evaluates to <code>false</code>, Clojure evaluates the first branch. Otherwise—if the argument evaluates to <code>true</code>—Clojure evaluates the second branch. You should be able to call the <code>unless</code> construct as shown in <strong>Listing 6</strong>.</p><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[Clojure]</span><br><span class="line"></span><br><span class="line">(<span class="name">unless</span> <span class="literal">false</span> (<span class="name">println</span> <span class="string">"ok!!"</span>) (<span class="name">println</span> <span class="string">"boo!!"</span>)) </span><br><span class="line"><span class="comment">; prints "ok!!"</span></span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">if</span></span> <span class="literal">false</span> (<span class="name">println</span> <span class="string">"boo!!"</span>) (<span class="name">println</span> <span class="string">"ok!!"</span>)) </span><br><span class="line"><span class="comment">; prints "ok!!"</span></span><br></pre></td></tr></table></figure><p><strong>Listing 6</strong></p><p>To achieve the desired result you can define a macro that transforms a call to <code>unless</code> to use the construct <code>if</code>, but with its branch arguments reversed (in other words, swap the first branch and the second branch). In Clojure, you can manipulate the code representing the branches that are passed as an argument as if it were data. See <strong>Listing 7</strong>.</p><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[Clojure]</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defmacro</span></span> unless</span><br><span class="line">  <span class="string">"Inverted 'if'"</span></span><br><span class="line">  [condition &amp; branches]</span><br><span class="line">  (<span class="name"><span class="builtin-name">conj</span></span> (<span class="name"><span class="builtin-name">reverse</span></span> branches) condition 'if))</span><br></pre></td></tr></table></figure><p><strong>Listing 7</strong></p><p>In this macro definition, the symbol <code>branches</code> consists of a list that contains the two expressions representing the two branches to execute (<code>println &quot;boo!!&quot;</code> and <code>println &quot;ok!!&quot;</code>). With this list in hand, you can now produce the code for the <code>unless</code> construct. First, call the core function <code>reverse</code> on that list. You’ll get a new list with the two branches swapped. You can then use the core function <code>conj</code>, which when given a list, adds the remaining arguments to the front of the list. Here, you pass the <code>if</code> operation together with the condition to evaluate.</p><h3 id="4-Kotlin"><a href="#4-Kotlin" class="headerlink" title="4 | Kotlin"></a>4 | Kotlin</h3><p><a href="//kotlinlang.org/">Kotlin</a> is a statically typed object-oriented language. Its main design goals are to be compatible with Java’s API, have a type system that catches more errors at compile time, and be less verbose than Java. Kotlin’s designers say that Scala is a close choice to match its design goals, but they dislike Scala’s complexity and long compilation time compared to Java. Kotlin aims to tackle these issues.</p><p><strong>Feature focus: smart casts.</strong> Many developers see the Java cast feature as annoying and redundant. For an example, see <strong>Listing 8</strong>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Java]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(expr <span class="keyword">instanceof</span> Number)&#123;</span><br><span class="line">    System.out.println(((Number) expr).getValue());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Listing 8</strong></p><p>Repeating the cast to <code>Number</code> shouldn’t be necessary, because within the <code>if</code> block, <code>expr</code> has to be an instance of <code>Number</code>. The generality of this technique is called _flow typing_—type information propagates with the flow of the program.</p><p>Kotlin supports <em>smart casts</em>. That is, you don’t have to cast the expression within the <code>if</code> block. See <strong>Listing 9</strong>.</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[Kotlin]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(expr <span class="keyword">is</span> Number)&#123;</span><br><span class="line">    println(expr.getValue())</span><br><span class="line"><span class="comment">// expr is automatically cast to Number</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Listing 9</strong></p><h3 id="5-Ceylon"><a href="#5-Ceylon" class="headerlink" title="5 | Ceylon"></a>5 | Ceylon</h3><p>Red Hat developed <a href="https://ceylon-lang.org/" target="_blank" rel="noopener">Ceylon</a>, a statically typed object-oriented language, to give Java programmers a language that’s easy to learn and understand (because of syntax that’s similar to Java) but less verbose. Ceylon includes more type system features than Java. For example, Ceylon supports a construct for defining type aliases (similar to C’s <code>typedef;</code> for example, you could define <code>Strings</code> to be an alias for <code>List&lt;String&gt;</code>), flow typing (for example, no need to cast the type of an expression in a block if you’ve already done an <code>instanceof</code> check on it), union of types, and local type inference. In addition, in Ceylon you can ask certain variables or blocks of code to use dynamic typing—type checking is performed at runtime instead of compile time.</p><p><strong>Feature focus: for comprehensions.</strong><code>for</code> comprehensions can be seen as syntactic sugar for a chain of <code>map</code>, <code>flatMap</code>, and <code>filter</code> operations using Java SE 8 streams. For example, in Java, by combining a range and a <code>map</code> operation, you can generate all the numbers from 2 to 20 with a step value of <code>2</code>, as shown in <strong>Listing 10</strong>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[Java]</span><br><span class="line"></span><br><span class="line">List&lt;Integer&gt; numbers = IntStream.rangeClosed(<span class="number">1</span>, <span class="number">10</span>).mapToObj(</span><br><span class="line">x -&gt; x * <span class="number">2</span>).collect(toList());</span><br></pre></td></tr></table></figure><p><strong>Listing 10</strong></p><p>In Ceylon, it can be written as follows using a <code>for</code> comprehension:</p><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; numbers = </span><br><span class="line">[<span class="keyword">for</span> (x <span class="keyword">in</span> <span class="number">1</span>...<span class="number">10</span>) x * <span class="number">2</span>];</span><br></pre></td></tr></table></figure><p>Here’s a more-complex example. In Java, you can generate a list of points in which the sum of the <code>x</code> and <code>y</code> coordinates is equal to <code>10</code>. See <strong>Listing 11</strong>.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[Java]</span><br><span class="line"></span><br><span class="line">List&lt;Point&gt; points = IntStream.rangeClosed(<span class="number">1</span>, <span class="number">10</span>).boxed()</span><br><span class="line">.flatMap(x -&gt; IntStream.rangeClosed(<span class="number">1</span>, <span class="number">10</span>)</span><br><span class="line">  .filter(y -&gt; x + y == <span class="number">10</span>)</span><br><span class="line">  .mapToObj(y -&gt; <span class="keyword">new</span> Point(x, y)))</span><br><span class="line">  .collect(toList());</span><br></pre></td></tr></table></figure><p><strong>Listing 11</strong></p><p>Thinking in terms of <code>flatMap</code> and <code>map</code> operations using the Stream API might be overwhelming. Instead, in Ceylon, you can write more simply, as done in the code shown in <strong>Listing 12</strong>, which produces <code>[(1, 9), (2, 8), (3, 7), (4, 6), (5, 5), (6, 4), (7, 3), (8, 2), (9, 1)]</code>.</p><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[Ceylon]</span><br><span class="line">List&lt;Point&gt; points = </span><br><span class="line">   [<span class="keyword">for</span> (x <span class="keyword">in</span> <span class="number">1</span>..<span class="number">10</span>) <span class="keyword">for</span>(y <span class="keyword">in</span> <span class="number">1</span>..<span class="number">10</span>) </span><br><span class="line">   <span class="keyword">if</span>(x+y == <span class="number">10</span>) Point(x, y)];</span><br></pre></td></tr></table></figure><p><strong>Listing 12</strong></p><p>The result: Ceylon can make your code more concise.</p><h3 id="6-Xtend"><a href="#6-Xtend" class="headerlink" title="6 | Xtend"></a>6 | Xtend</h3><p><a href="https://www.eclipse.org/xtend/" target="_blank" rel="noopener">Xtend</a> is a statically typed object-oriented language. One way it differs from other languages is that it compiles to pretty-printed Java code rather than bytecode. As a result, you can also work with the generated code.</p><p>Xtend supports two forms of method invocation: default Java dispatching and multiple dispatching. With multiple dispatching, an overloaded method is selected based on the runtime type of its arguments (instead of the traditional static types of the arguments, as in Java). Xtend provides many other popular features available in other languages such as operator overloading and type inference.</p><p>One unique feature is template expressions, which are a convenient way to generate string concatenation (similar to what template engines provide). For example, template expressions support control-flow constructs such as <code>IF</code> and <code>FOR</code>. In addition, special processing of white space allows templates to be readable and their output to be nicely formatted.</p><p><strong>Feature focus: active annotations.</strong> Xtend provides a feature called active annotations, which is a way to do compile-time metaprogramming. In its simplest form, this feature allows you to generate code transparently, such as adding methods or fields to classes with seamless integration in the Eclipse IDE for example. New fields or meth-ods will show up as members of the modified classes within the Eclipse environment. More-advanced use of this feature can generate a skeleton of design patterns such as the visitor or observer pattern. You can provide your own way to generate code using template expressions.</p><p>Here’s an example to illustrate this feature in action. Given sample JSON data, you can automatically generate a domain class in your Xtend program that maps JSON properties into members. The Eclipse IDE will recognize these members, so you can use features such as type checking and autocompletion. All you have to do is wrap the JSON sample within an <code>@Jsonized</code> annotation. <strong>Figure 2</strong> shows an example within the Eclipse IDE using a JSON sample representing a tweet.</p><p><img alt="Architect-languages-f2" data-src="https://www.oracle.com/ocom/groups/public/@otn/documents/digitalasset/2267343.jpg"></p><p><strong>Figure 2</strong></p><h3 id="7-Fantom"><a href="#7-Fantom" class="headerlink" title="7 | Fantom"></a>7 | Fantom</h3><p><a href="https://www.fantom.org/" target="_blank" rel="noopener">Fantom</a> is an object-oriented language featuring a type system that takes an alternative view compared to most other established, statically typed languages. First, it differentiates itself by not supporting user-defined generics. However, three built-in classes can be parameterized: <code>List</code>, <code>Map</code>, and <code>Func</code>. This design decision was made to let programmers benefit from the use of generics (such as working with collections—see the link to an empirical study conducted by Parnin et al. in “Learn More”) without complicating the overall type system. In addition, Fantom provides two kinds of method invocations: one that goes through type checking at compile time (using a dot notation: .) and one that defers checking to runtime (using an arrow notation: <code>-&gt;</code>).</p><p><strong>Feature focus: immutability.</strong> Fantom encourages immutability through language constructs. For example, it supports <code>const</code> classes—once created, an instance is guaranteed to have no state changes. Here’s how it works. You can define a class <code>Transaction</code> prefixed with the <code>const</code> keyword:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const class Transaction &#123;</span><br><span class="line">  const Int value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The <code>const</code> keyword ensures that the class declares only fields that are immutable, so you won’t be able to modify the field named <code>value</code> after you instantiate a <code>Transaction</code>. This is not much different than declaring all fields of a class <code>final</code> in Java. However, this feature is particularly useful with nested structures. For example, let’s say the <code>Transaction</code> class is modified to support another field of type <code>Location</code>. The compiler ensures that the <code>location</code> field can’t be reassigned and that the <code>Location</code> class is immutable.</p><p>For instance, the code in <strong>Listing 13</strong> is incorrect and will produce the error <code>Const field &#39;location&#39; has non-const type &#39;hello_0::Location&#39;</code>. Similarly, all classes extending a <code>const</code> class can be only <code>const</code> classes themselves.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Fantom]</span><br><span class="line"></span><br><span class="line">const class Transaction &#123;</span><br><span class="line">  const Int value</span><br><span class="line">  const Location location := Location(&quot;Cambridge&quot;)</span><br><span class="line">&#125;</span><br><span class="line">class Location&#123;</span><br><span class="line">  Str city</span><br><span class="line">  new make(Str city) &#123; this.city = city &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-X10"><a href="#8-X10" class="headerlink" title="8 | X10"></a>8 | X10</h3><p><a href="http://x10-lang.org/" target="_blank" rel="noopener">X10</a> is an experimental object-oriented language that IBM developed. It supports features such as first-class functions and is designed to facilitate efficient programming for high-performance parallel computing.</p><p>To this end, the language is based on a programming model called the <em>partitioned global address space</em>. In this model, each process shares a global address space, and slices of this space are allocated as private memory for local data and access. To work with this model, X10 offers specialized built-in language constructs to work with concurrency and distributed execution.</p><p>Compared to popular object-oriented languages, a novel feature in its type system is support for <em>constraint types</em>. You can think of constraint types as a form of contracts attached to types. What makes this useful is that errors are checked statically, eliminating the need for more-expensive runtime checks. For example, one possible application of constraint types is to report out-of-bound array accesses at compile time.</p><h2 id="Learn-More"><a href="#Learn-More" class="headerlink" title="Learn More"></a>Learn More</h2><ul><li><strong>“<a href="https://dl.acm.org/citation.cfm?id=1985446" target="_blank" rel="noopener">Java Generics Adoption: How New Features Are Introduced, Championed, or Ignored</a>”</strong></li></ul><p><strong>Feature focus: constraint types.</strong> Consider a simple <code>Pair</code> class, with a generated constructor:</p><p><code>class Pair(x: Long, y: Long){}</code></p><p>You can create <code>Pair</code> objects as follows:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val p1 : Pair = <span class="keyword">new</span> Pair(<span class="number">2</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure><p>However, you can also define explicit constraints (similar to contracts) on the properties of a <code>Pair</code> at use-site. Here, you want to ensure that <code>p2</code> holds only symmetric pairs (that is, the values of <code>x</code> and <code>y</code> must be equal):</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val p2 : Pair&#123;self.x == self.y&#125; = <span class="keyword">new</span> Pair(<span class="number">2</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure><p>Because <code>x</code> and <code>y</code> are different in this code example, the assignment will be reported as a compile error. However, the following code compiles without an error:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val p2 : Pair&#123;self.x == self.y&#125; = <span class="keyword">new</span> Pair(<span class="number">5</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>In this article, we examined eight features from eight popular JVM languages. These languages provide many benefits, such as enabling you to write code in a more concise way, use dynamic typing, or access popular functional programming features.</p><p>I hope this article has sparked some interest in alternative languages and that it will encourage you to check out the wider JVM eco-system.</p><p><strong>Acknowledgements.</strong> I’d like to thank Alex Buckley, Richard Warburton, Andy Frank, and Sven Efftinge for their feedback.</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://www.oracle.com/technical-resources/articles/java/architect-languages.html" target="_blank" rel="noopener">Alternative Languages for the JVM</a></p></div><div class="popular-posts-header">相关文章</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="\2019\11.20.94795185\" rel="bookmark">Java NIO</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="\2019\10.31.bc557e1a\" rel="bookmark">Java 线程池</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="\2019\09.09.6ccfaf30\" rel="bookmark">【基础】Java工程师成神之路第一天</a></div></li></ul><div><ul class="post-copyright"><li><strong>创建时间：</strong> 2019-11-18 16:11:32</li><li><strong>修改时间：</strong> 2019-11-27 15:03:15</li><li class="post-copyright-author"><strong>本文作者： </strong>Morty.ROY</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://www.royians.cn/2019/11.18.9867c63d/" title="JVM还支持哪些语言">https://www.royians.cn/2019/11.18.9867c63d/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/null" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Java/" rel="tag"># Java</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2019/11.18.dc6ff3b1/" rel="next" title="Oracle JDK 和 Open JDK"><i class="fa fa-chevron-left"></i> Oracle JDK 和 Open JDK</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2019/11.19.23f0b989/" rel="prev" title="Java和C++的区别">Java和C++的区别 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#第一个分类"><span class="nav-number">1.</span> <span class="nav-text">第一个分类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第二个分类"><span class="nav-number">2.</span> <span class="nav-text">第二个分类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第三个分类"><span class="nav-number">3.</span> <span class="nav-text">第三个分类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#语言概览"><span class="nav-number">4.</span> <span class="nav-text">语言概览</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Scala"><span class="nav-number">4.1.</span> <span class="nav-text">1 | Scala</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Groovy"><span class="nav-number">4.2.</span> <span class="nav-text">2 | Groovy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Clojure"><span class="nav-number">4.3.</span> <span class="nav-text">3 | Clojure</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-Kotlin"><span class="nav-number">4.4.</span> <span class="nav-text">4 | Kotlin</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-Ceylon"><span class="nav-number">4.5.</span> <span class="nav-text">5 | Ceylon</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-Xtend"><span class="nav-number">4.6.</span> <span class="nav-text">6 | Xtend</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-Fantom"><span class="nav-number">4.7.</span> <span class="nav-text">7 | Fantom</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-X10"><span class="nav-number">4.8.</span> <span class="nav-text">8 | X10</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Learn-More"><span class="nav-number">5.</span> <span class="nav-text">Learn More</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Conclusion"><span class="nav-number">6.</span> <span class="nav-text">Conclusion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考资料"><span class="nav-number">7.</span> <span class="nav-text">参考资料</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Morty.ROY" src="/images/avatar.gif"><p class="site-author-name" itemprop="name">Morty.ROY</p><div class="site-description" itemprop="description">记录生活中的点点滴滴</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">52</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">10</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">19</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i>RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/ROYIANS" title="GitHub &rarr; https://github.com/ROYIANS" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a> </span><span class="links-of-author-item"><a href="mailto:roy.joshua.zhang@gmail.com" title="E-Mail &rarr; mailto:roy.joshua.zhang@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i></a> </span><span class="links-of-author-item"><a href="https://weibo.com/royians" title="Weibo &rarr; https://weibo.com/royians" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i></a></span></div><div class="site-description" style="font-size:8px" id="QQtitle"></div><br><div><span id="QQtimer">加载中...</span></div><div id="QQprogress"><div id="QQalready" style="width:0%"></div></div><br><nav class="site-state"><div class="site-state-item site-state-posts"><a id="QQprev"><span class="site-state-item-count"><i class="fa fa-fw fa-step-backward"></i></span> <span class="site-state-item-name">上一首</span></a></div><div class="site-state-item site-state-posts"><a id="QQplay"><span class="site-state-item-count"><i id="QQplaybtn" class="fa fa-fw fa-play"></i></span> <span class="site-state-item-name">播放/暂停</span></a></div><div class="site-state-item site-state-posts"><a id="QQnext"><span class="site-state-item-count"><i class="fa fa-fw fa-step-forward"></i></span> <span class="site-state-item-name">下一首</span></a></div></nav><br><a id="QQgeci" class="links-of-author-item">歌词</a><span> | <span><a id="QQliebiao" class="links-of-author-item">歌单</a></span></span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div hidden><script type="text/javascript" src="//rf.revolvermaps.com/0/0/6.js?i=5u129bxr3id&amp;m=2&amp;c=ff0000&amp;cr1=ffffff&amp;f=ubuntu&amp;l=0&amp;s=175" async></script></div><div hidden id="QQcover" class="QQcover QQisrotate"></div><div class="copyright">&copy; 2017 – <span itemprop="copyrightYear">2019</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">ROYIANS</span><br><span class="post-meta-item-icon"><i class="fa fa-area-chart"></i> </span><span title="站点总字数">132k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">2:01</span></div><div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动</div><span class="post-meta-divider">|</span><div class="theme-info">主题 – <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-divider">|</span> <span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-fire"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div style="display:none"><script src="//s95.cnzz.com/z_stat.php?id=4739565&web_id=4739565"></script></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script>if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme: 'neutral',
      logLevel: 3,
      flowchart: { curve: 'linear' },
      gantt: { axisFormat: '%m/%d/%Y' },
      sequence: { actorMargin: 50 }
    });
  }, window.mermaid);
}</script><script>"serviceWorker"in navigator&&navigator.serviceWorker.register("/js/sw.js?t=1577269865862").then(function(){console.log("ServiceWorker Register Successfully.")})["catch"](function(e){console.error(e)})</script></body></html><!-- rebuild by neat -->